var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function s(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),StepType;!function(t){t[t.wait=0]="wait",t[t.exec=1]="exec",t[t.block=2]="block"}(StepType||(StepType={}));var Step=function(){function t(){this.m_taskList=[]}return t.prototype.wait=function(t){var e=this;return this.m_taskList.push({type:StepType.wait,data:t}),egret.setTimeout(function(){e.check()},this,0),this},t.prototype.exec=function(t,e){var i=this;return this.m_taskList.push({type:StepType.exec,data:{func:t,thisObj:e}}),egret.setTimeout(function(){i.check()},this,0),this},t.prototype.block=function(t,e){var i=this;return this.m_taskList.push({type:StepType.block,data:{func:t,thisObj:e}}),egret.setTimeout(function(){i.check()},this,0),this},t.prototype.next=function(){this.m_waitting=!1,egret.clearTimeout(this.m_timeId),this.check()},t.prototype.clear=function(){this.m_waitting=!1,egret.clearTimeout(this.m_timeId),this.m_taskList.length=0},t.prototype.check=function(){if(!this.m_waitting&&this.m_taskList.length>0){var t=this.m_taskList.shift();this.checkTask(t)}},t.prototype.checkTask=function(t){t.type==StepType.wait?this.doWait(t):t.type==StepType.exec?this.doExec(t):t.type==StepType.block&&this.doBlock(t)},t.prototype.doWait=function(t){var e=this,i=t.data;this.m_waitting=!0,this.m_timeId=egret.setTimeout(function(){e.m_waitting=!1,e.check()},this,i)},t.prototype.doExec=function(t){var e=t.data.func,i=t.data.thisObj;e.call(i),this.check()},t.prototype.doBlock=function(t){this.m_waitting=!0;var e=t.data.func,i=t.data.thisObj;e.call(i)},t}();__reflect(Step.prototype,"Step");var Workflow=function(){function t(){this.m_step=new Step,this.m_list=[]}return t.prototype.addWait=function(t){this.m_list.push({type:StepType.wait,data:t})},t.prototype.addExec=function(t,e){this.m_list.push({type:StepType.exec,data:{func:t,thisObj:e}})},t.prototype.addBlock=function(t,e){this.m_list.push({type:StepType.block,data:{func:t,thisObj:e}})},t.prototype.run=function(){this.m_step.clear();for(var t=0;t<this.m_list.length;t++){var e=this.m_list[t];e.type==StepType.wait?this.m_step.wait(e.data):e.type==StepType.exec?this.m_step.exec(e.func,e.thisObj):e.type==StepType.block&&this.m_step.block(e.func,e.thisObj)}},t.prototype.next=function(){this.m_step.next()},t}();__reflect(Workflow.prototype,"Workflow");var Box=function(t){function e(){var e=t.call(this)||this;return e.createView(),e}return __extends(e,t),e.prototype.createView=function(){var t=Source.createBitmapByName("jzgr_1_png");this.addChild(t),t.smoothing=!0,t.anchorOffsetX=t.width/2,t.anchorOffsetY=t.height/2},e.prototype.addContent=function(t){var e=Math.min(208/t.width*.8,209/t.height*.8);t.scaleX=t.scaleY=e,this.addChild(t),t.anchorOffsetX=t.width/2,t.anchorOffsetY=t.height/2},e}(egret.Sprite);__reflect(Box.prototype,"Box");var LoadingUI=function(t){function e(){var e=t.call(this)||this;return e.createView(),e}return __extends(e,t),e.prototype.createView=function(){this.graphics.beginFill(3368601,1),this.graphics.drawRect(0,0,1366,1024),this.graphics.endFill(),this.textField=new egret.TextField,this.addChild(this.textField),this.textField.width=480,this.textField.height=100,this.textField.textColor=16777215,this.textField.x=.5*(1366-this.textField.width),this.textField.y=.5*(1024-this.textField.height),this.textField.textAlign="center"},e.prototype.setProgress=function(t,e){this.textField.text="Loading..."+Math.round(t/e*100)+"%"},e}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI");var Main=function(t){function e(){var e=t.call(this)||this;return e._loadCount=0,e._speedY=40,e._count=0,e._resultArr=[0,2,3,1,2,0,0,2,1,3],e._countArr=[],e.isResourceLoadEnd=!1,e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddToStage,e),e}return __extends(e,t),e.prototype.onAddToStage=function(t){this.loadingView=new LoadingUI,this.loadingView.x=(this.stage.stageWidth-this.loadingView.width)/2,this.loadingView.y=(this.stage.stageHeight-this.loadingView.height)/2,this.stage.addChild(this.loadingView),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/")},e.prototype.onConfigComplete=function(t){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onSceneLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),RES.loadGroup("preload")},e.prototype.onSceneLoadComplete=function(t){RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onSceneLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onUnitLoadComplete,this);var i,s=GetRequestObject();return null==s?void Println("请求数据为null，无法加载相应单元的数据"):null==s.assetsName||void 0==s.assetsName||""==s.assetsName?void Println("请求的assetsName为null，无法加载相应单元的数据"):(i=s.assetsName,e.sourceName=i,void RES.loadGroup(i))},e.prototype.onUnitLoadComplete=function(t){this.stage.removeChild(this.loadingView),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onUnitLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),this.isResourceLoadEnd=!0,Source.init(),this.startCreateScene()},e.prototype.onItemLoadError=function(t){Println("Url:"+t.resItem.url+" has failed to load")},e.prototype.onResourceLoadError=function(t){Println("Group:"+t.groupName+" has failed to load"),this.onSceneLoadComplete(t)},e.prototype.onResourceProgress=function(t){this.loadingView.setProgress(t.itemsLoaded,t.itemsTotal)},e.prototype.startCreateScene=function(){this.stage.maxTouches=1;var t=new ConstructionWorker;this.addChild(t)},e.sourceName="",e}(egret.DisplayObjectContainer);__reflect(Main.prototype,"Main");var SoundPlayer=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.exec=function(t,e){var i=this;return this.m_taskList.push({type:StepType.exec,data:{func:t,thisObj:e}}),egret.setTimeout(function(){i.check()},this,0),this},e.prototype.playRes=function(t,e,i){var s=this;void 0===e&&(e=1),void 0===i&&(i=1),Println("playRes key:"+t+" loop:"+e+" volume:"+i);var o={type:"playRes",data:{key:t,loop:e,volume:i}};return this.m_waitting?(this.m_taskList.push(o),egret.setTimeout(function(){s.check()},this,0)):this.doPlayRes(o),this},e.prototype.checkTask=function(e){t.prototype.checkTask.call(this,e),"playRes"==e.type&&this.doPlayRes(e)},e.prototype.doPlayRes=function(t){this.m_waitting=!0;var e=t.data.key;this._loop=t.data.loop,this._volume=t.data.volume,this.stopSound(),this._sound=RES.getRes(e),this._channel=this._sound.play(0,this._loop),this._channel.volume=this._volume,this._channel.addEventListener(egret.Event.SOUND_COMPLETE,this.onPlayComplete,this)},e.prototype.stopSound=function(){this._channel&&(this._channel.removeEventListener(egret.Event.SOUND_COMPLETE,this.onPlayComplete,this),this._channel.stop(),this._channel=null)},e.prototype.onPlayComplete=function(t){this.stopSound(),this.m_waitting=!1,this.check()},e.prototype.clear=function(){t.prototype.clear.call(this),this.stopSound()},e}(Step);__reflect(SoundPlayer.prototype,"SoundPlayer");var AssetAdapter=function(){function t(){}return t.prototype.getAsset=function(t,e,i){function s(s){e.call(i,s,t)}if(RES.hasRes(t)){var o=RES.getRes(t);o?s(o):RES.getResAsync(t,s,this)}else RES.getResByUrl(t,s,this,RES.ResourceItem.TYPE_IMAGE)},t}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var ThemeAdapter=function(){function t(){}return t.prototype.getTheme=function(t,e,i,s){function o(t){e.call(s,t)}function r(e){e.resItem.url==t&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),i.call(s))}RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),RES.getResByUrl(t,o,this,RES.ResourceItem.TYPE_TEXT)},t}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);var Bg=function(t){function e(){var e=t.call(this)||this;return e.createView(),e}return __extends(e,t),e.prototype.createView=function(){var t=Source.createBitmapByName("jzgr_19_png");this.addChild(t)},e.prototype.reset=function(){},e}(egret.Sprite);__reflect(Bg.prototype,"Bg");var Blocks=function(t){function e(){var e=t.call(this)||this;return e.createView(),e}return __extends(e,t),e.prototype.createView=function(){this._bg=Source.createBitmapByName("jzgr_7_png"),this.addChild(this._bg);var t=Source.createBitmapByName("jzgr_16_png");this.addChild(t),t.name="block_1",t.x=2.5,t.y=234;var e=Source.createBitmapByName("jzgr_17_png");this.addChild(e),e.name="block_2",e.x=138.85,e.y=354;var i=Source.createBitmapByName("jzgr_14_png");this.addChild(i),i.name="block_3",i.x=473,i.y=355;var s=Source.createBitmapByName("jzgr_10_png");s.name="block_4",s.x=633.5,s.y=247;var o=Source.createBitmapByName("jzgr_13_png");this.addChild(o),o.name="block_5",o.x=137,o.y=287.5;var r=Source.createBitmapByName("jzgr_15_png");this.addChild(r),r.name="block_6",r.x=2.5,r.y=198.5;var n=Source.createBitmapByName("jzgr_11_png");this.addChild(n),n.name="block_7",n.x=137,n.y=192.35;var a=Source.createBitmapByName("jzgr_12_png");this.addChild(a),a.name="block_8",a.x=473.5,a.y=193.5;var h=Source.createBitmapByName("jzgr_9_png");h.name="block_9",h.x=633.5,h.y=213;var c=Source.createBitmapByName("jzgr_8_png");this.addChild(c),c.name="block_10",c.x=136,this.addChild(s),this.addChild(h),this.reset()},e.prototype.reset=function(){for(var t=1;11>t;t++)this.getChildByName("block_"+t).visible=!1;this._bg.visible=!0},e.prototype.showBlock=function(t){this.getChildByName("block_"+t).visible=!0},e.prototype.hideBg=function(){this._bg.visible=!1},e}(egret.Sprite);__reflect(Blocks.prototype,"Blocks");var DropCard=function(t){function e(){var e=t.call(this)||this;return e.count=3,e.createView(),e}return __extends(e,t),e.prototype.createView=function(){var t=this.createBitmapByName("yellow_box_png"),e=this.createBitmapByName("violet_box_png"),i=this.createBitmapByName("blue_box_png"),s=this.createBitmapByName("red_box_png");this.addChildCenter(t),this.addChildCenter(e),this.addChildCenter(i),this.addChildCenter(s)},e.prototype.addChildCenter=function(t){t.anchorOffsetX=t.width/2,t.anchorOffsetY=t.height/2,this.addChild(t)},e.prototype.setType=function(t){void 0===t&&(t=0);for(var e=0;e<this.numChildren;e++)this.getChildAt(e).visible=!1;this.getChildAt(t).visible=!0},e.prototype.add=function(t){for(;this.numChildren>4;)this.removeChildAt(4);t.anchorOffsetX=t.width/2,t.anchorOffsetY=t.height/2,this.addChild(t)},e.prototype.createBitmapByName=function(t){var e=new egret.Bitmap,i=RES.getRes(t);return e.texture=i,e},e}(egret.Sprite);__reflect(DropCard.prototype,"DropCard");var ConstructionWorker=function(t){function e(){var e=t.call(this)||this;return e._index=0,e.createView(),e}return __extends(e,t),e.prototype.createView=function(){this._bg=new Bg,this.addChild(this._bg),this._qwd=Source.createBitmapByName("jzgr_18_png"),this.addChild(this._qwd),this._qwd.x=148.5,this._qwd.y=307,this._loves=new CountLoves,this.addChild(this._loves),this._loves.x=182.5,this._loves.y=11.5,this._stars=new CountStars,this.addChild(this._stars),this._stars.x=749,this._stars.y=22.5,this._blocks=new Blocks,this.addChild(this._blocks),this._blocks.x=523,this._blocks.y=254.5,this._quit=Source.createBitmapByName("jzgr_0_png"),this._quit.x=20,this._quit.y=12,this._quit.touchEnabled=!0,this._optionSp=new egret.Sprite,this.addChild(this._optionSp),this._optionSp.x=173,this._optionSp.y=742;var t=Source.createBitmapByName("jzgr_4_png");this._optionSp.addChild(t),this._overPage=new OverPage,this.addChild(this._overPage),this._tipsSound=new SoundPlayer;for(var e=0;e<Source.images.length;e++){var i=Source.images[e];i.touchEnabled=!0,i.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this)}this.initListener()},e.prototype.initListener=function(){this._overPage.addEventListener(egret.Event.COMPLETE,this.again,this),this._overPage.addEventListener(egret.Event.CHANGE,this.start,this),this._quit.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onQuit,this)},e.prototype.start=function(t){this.setQuestion(this._index),this._overPage.visible=!1},e.prototype.onQuit=function(t){this.dispatchEvent(new egret.Event(egret.Event.CLOSE))},e.prototype.again=function(t){this._index=0,this._blocks.scaleX=this._blocks.scaleY=1,this._blocks.x=523,this._blocks.y=254.5,this._qwd.visible=!0,this._blocks.reset(),this._loves.reset(),this._stars.reset(),this._overPage.visible=!1,this._optionSp.visible=!0,this.setQuestion(this._index)},e.prototype.onClick=function(t){var e=this;if("box"==t.target.name.split("_")[0]){var i=t.target.name.split("_")[1];if(egret.log("this._index:",this._index,"id:",i),i==this._index%Source.images.length){if(this._blocks.showBlock(this._index+1),this._stars.add(),this._index++,this._stars.count>=10)return this._blocks.hideBg(),this.addChild(this._blocks),this._blocks.scaleX=this._blocks.scaleY=.5,this._blocks.x=933,this._blocks.y=738.5,this._qwd.visible=!1,this.addChild(this._quit),this.addChild(this._loves),this.addChild(this._stars),this._optionSp.visible=!1,this._overPage.visible=!0,void this._overPage.showWin(!0)}else if(Source.changeQusetion(this._index),this._loves.cut(),this._loves.count<=0)return this._blocks.hideBg(),this.addChild(this._blocks),this._blocks.scaleX=this._blocks.scaleY=.5,this._blocks.x=933,this._blocks.y=738.5,this._qwd.visible=!1,this.addChild(this._quit),this.addChild(this._loves),this.addChild(this._stars),this._optionSp.visible=!1,this._overPage.visible=!0,void this._overPage.showWin(!1);for(var s=0,o=1;4>o;o++){var r=this._optionSp.getChildAt(o);egret.Tween.get(r).wait(100*o).to({scaleX:.2,scaleY:.2,alpha:0},500,egret.Ease.cubicIn).call(function(){s++,s>=3&&e.setQuestion(e._index)})}}},e.prototype.setQuestion=function(t){for(egret.log("id:::::::",t),this._tipsSound.clear(),this._tipsSound.playRes(Source.list[t%Source.images.length].audio);this._optionSp.numChildren>1;)this._optionSp.removeChildAt(1);egret.log(t,"Source.list[id%Source.images.length].audio:",Source.list[t%Source.images.length].audio);for(var e=0;e<Source.questionList[t].length;e++){egret.log("id:",t,"Source.questionList[id][i]:",Source.questionList[t][e]);var i=Source.images[Source.questionList[t][e]];this._optionSp.addChild(i),i.x=175+340*e,i.y=145,i.alpha=0,i.visible=!0,i.scaleX=i.scaleY=.2,egret.Tween.removeTweens(i),egret.Tween.get(i).wait(100*e).to({scaleX:1,scaleY:1,alpha:1},500,egret.Ease.cubicIn)}},e}(egret.Sprite);__reflect(ConstructionWorker.prototype,"ConstructionWorker");var CountLoves=function(t){function e(){var e=t.call(this)||this;return e.count=3,e.createView(),e}return __extends(e,t),e.prototype.createView=function(){var t=this.createBitmapByName("love_panel_png");this.addChild(t);var i=this.createBitmapByName("love_png");this.addChild(i),i.name="love",i.anchorOffsetX=-25,i.anchorOffsetY=-14,this._topMask=new egret.Shape,this.addChild(this._topMask),this._topMask.name="mask",this._topMask.graphics.beginFill(0,1),this._topMask.graphics.drawRect(0,0,e.MOVEDIS*e.NUM,51),this._topMask.graphics.endFill(),this._topMask.anchorOffsetX=-25,this._topMask.anchorOffsetY=-14,i.mask=this._topMask,this._topMask.x=(this.count-e.NUM)*e.MOVEDIS},e.prototype.add=function(){this.count>=e.NUM||(this.count++,this._topMask.x=(this.count-e.NUM)*e.MOVEDIS)},e.prototype.cut=function(){this.count<=0||(this.count--,this._topMask.x=(this.count-e.NUM)*e.MOVEDIS)},e.prototype.createBitmapByName=function(t){var e=new egret.Bitmap,i=RES.getRes(t);return e.texture=i,e},e.prototype.createDisobj=function(t){for(var e=new egret.Sprite,i=0;i<t.length;i++)e.addChild(t[i]);return e},e.prototype.reset=function(){this.count=e.NUM,this._topMask.x=(this.count-e.NUM)*e.MOVEDIS},e.MOVEDIS=74,e.NUM=3,e}(egret.Sprite);__reflect(CountLoves.prototype,"CountLoves");var CountStars=function(t){function e(){var e=t.call(this)||this;return e.count=0,e.initContent(),e}return __extends(e,t),e.prototype.initContent=function(){var t=this.createBitmapByName("gstars_png");this.addChild(t);var i=this.createBitmapByName("stars_png");this.addChild(i),this._topMask=new egret.Shape,this.addChild(this._topMask),this._topMask.graphics.beginFill(0,1),this._topMask.graphics.drawRect(0,0,e.MOVEDIS*e.NUM,51),this._topMask.graphics.endFill(),i.mask=this._topMask,this._topMask.x=(this.count-e.NUM)*e.MOVEDIS},e.prototype.add=function(){this.count>=10||(this.count++,this._topMask.x=(this.count-e.NUM)*e.MOVEDIS)},e.prototype.cut=function(){this.count<=0||(this.count--,this._topMask.x=(this.count-e.NUM)*e.MOVEDIS)},e.prototype.createBitmapByName=function(t){var e=new egret.Bitmap,i=RES.getRes(t);return e.texture=i,e},e.prototype.createDisobj=function(t){for(var e=new egret.Sprite,i=0;i<t.length;i++)e.addChild(t[i]);return e},e.prototype.reset=function(){this.count=0,this._topMask.x=(this.count-e.NUM)*e.MOVEDIS},e.NUM=10,e.MOVEDIS=60,e}(egret.Sprite);__reflect(CountStars.prototype,"CountStars");var DropCards=function(t){function e(){var e=t.call(this)||this;return e.createView(),e}return __extends(e,t),e.prototype.createView=function(){for(var t=0;t<e.NUM;t++){var i=new DropCard;this.addChild(i),i.name="card_"+t,i.setType(t),i.x=200+308*t,i.y=-150}},e.prototype.setType=function(t){void 0===t&&(t=0);for(var e=0;e<this.numChildren;e++)this.getChildAt(e).visible=!1;this.getChildAt(t).visible=!1},e.prototype.createBitmapByName=function(t){var e=new egret.Bitmap,i=RES.getRes(t);return e.texture=i,e},e.prototype.getChildren=function(t){return this.getChildAt(t)},e.prototype.init=function(t){for(var e=this,i=0,s=0;s<t.length;s++){var o=this.getChildAt(s);o.add(t[s]),o.name=t[s].name,o.x=200+308*s,o.y=-150,o.visible=!0,egret.Tween.get(o).wait(100*s).to({y:250+150*Math.random()},500,egret.Ease.cubicIn).call(function(){i++,i>=e.numChildren&&e.dispatchEvent(new egret.Event(egret.Event.COMPLETE))})}},e.prototype.next=function(t,e,i){for(var s=this,o=0,r=function(r){var a=n.getChildAt(r);r==e?(a.visible=!0,egret.Tween.get(a).wait(100*r).to({},500,egret.Ease.backOut).wait(i).to({y:-300},0).call(function(){a.visible=!0,a.add(t[r]),a.name=t[r].name}).wait(100*r).to({y:250+150*Math.random()},500,egret.Ease.cubicIn).call(function(){o++,o>=s.numChildren&&s.dispatchEvent(new egret.Event(egret.Event.COMPLETE))})):egret.Tween.get(a).wait(100*r).to({y:1200},500,egret.Ease.backOut).wait(i).to({y:-300},0).call(function(){a.visible=!0,a.add(t[r]),a.name=t[r].name}).wait(100*r).to({y:250+150*Math.random()},500,egret.Ease.cubicIn).call(function(){o++,o>=s.numChildren&&s.dispatchEvent(new egret.Event(egret.Event.COMPLETE))})},n=this,a=0;a<t.length;a++)r(a)},e.NUM=4,e}(egret.Sprite);__reflect(DropCards.prototype,"DropCards");var Gun=function(t){function e(){var e=t.call(this)||this;return e.createView(),e}return __extends(e,t),e.prototype.createView=function(){var t=this.createBitmapByName("炮弹底座下_png");this.addChild(t),t.anchorOffsetX=12.95,t.anchorOffsetY=-169.65,this._barrel_sp=new egret.Sprite,this.addChild(this._barrel_sp),this._barrel_sp.x=74,this._barrel_sp.y=198,this._barrel=this.createBitmapByName("大炮_png"),this._barrel_sp.addChild(this._barrel),this._barrel.anchorOffsetX=74,this._barrel.anchorOffsetY=198;var e=this.createBitmapByName("炮弹底座上_png");this.addChild(e),e.anchorOffsetX=-22.05,e.anchorOffsetY=-180.25;var i=this.createBitmapByName("炮弹火花_png");this._barrel_sp.addChild(i),i.name="huohua",i.visible=!1,i.x=-70,i.y=-290},e.prototype.setRotate=function(t){egret.Tween.get(this._barrel_sp).to({rotation:90+t},300)},e.prototype.createBitmapByName=function(t){var e=new egret.Bitmap,i=RES.getRes(t);return e.texture=i,e},e.prototype.createDisobj=function(t){for(var e=new egret.Sprite,i=0;i<t.length;i++)e.addChild(t[i]);return e},e.prototype.showHuohua=function(){var t=this;this._barrel_sp.getChildByName("huohua").visible=!0,setTimeout(function(){t._barrel_sp.getChildByName("huohua").visible=!1},200)},e}(egret.Sprite);__reflect(Gun.prototype,"Gun");var OverPage=function(t){function e(){var e=t.call(this)||this;return e.stage?e.createView():e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddStage,e),e}return __extends(e,t),e.prototype.onAddStage=function(t){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.onAddStage,this),this.createView()},e.prototype.createView=function(){var t=Source.createBitmapByName("success_2_png"),e=Source.createBitmapByName("success_1_png"),i=Source.createBitmapByName("fail_2_png");this._tryAgain=Source.createBitmapByName("fail_0_png");var s=Source.createBitmapByName("fail_1_png"),o=Source.createBitmapByName("success_0_png"),r=new egret.Sprite;this.addChild(r),r.graphics.beginFill(0,.5),r.graphics.drawRect(0,0,1366,1024),r.graphics.endFill(),this._failSp=new egret.Sprite,this.addChild(this._failSp),this._failSp.visible=!1,this._winSp=new egret.Sprite,this.addChild(this._winSp),this._winSp.addChild(t),t.name="caidai",t.y=68.48,this._failSp.addChild(s),s.name="fail",s.x=150,s.y=570,this._winSp.addChild(o),o.name="win",o.x=150,o.y=570,this._winSp.addChild(e),e.name="successStar",e.x=324,e.y=157,this._failSp.addChild(i),i.name="failStar",i.x=324,i.y=157,this.addChild(this._tryAgain),this._tryAgain.name="tryAgain",this._tryAgain.x=568,this._tryAgain.y=787,this._tryAgain.visible=!1,this._tryAgain.$touchEnabled=!0,this._winSp.visible=!1,this._failSp.visible=!1,this._winSp.visible=!1,this._failSp.visible=!1,this._start=Source.createBitmapByName("start_png"),this.addChild(this._start),this._start.$touchEnabled=!0,this._start.x=.5*(this.stage.stageWidth-this._start.width),this._start.y=.5*(this.stage.stageHeight-this._start.height),this._bgSound=new SoundPlayer,this._tryAgain.addEventListener(egret.TouchEvent.TOUCH_TAP,this.tryAgain,this),this._start.addEventListener(egret.TouchEvent.TOUCH_TAP,this.start,this)},e.prototype.start=function(t){this._bgSound.clear(),this._bgSound.playRes("bgmusic_mp3",1e4,.1),this._start.visible=!1,this.dispatchEvent(new egret.Event(egret.Event.CHANGE))},e.prototype.tryAgain=function(t){this.dispatchEvent(new egret.Event(egret.Event.COMPLETE))},e.prototype.showWin=function(t){this._tryAgain.visible=!0,t?(this._winSp.visible=!0,this._failSp.visible=!1):(this._winSp.visible=!1,this._failSp.visible=!0)},e}(egret.Sprite);__reflect(OverPage.prototype,"OverPage");var Qieadi=function(t){function e(){var e=t.call(this)||this;return e.initContent(),e}return __extends(e,t),e.prototype.initContent=function(){var t=this.createBitmapByName("奇瓦迪_png"),e=this.createBitmapByName("success_0_png"),i=this.createBitmapByName("fail_1_png"),s=this.createBitmapByName("qwd2_png"),o=this.createBitmapByName("qwd3_png");this.addChild(t),this.addChild(e),e.x=45,e.y=-66,this.addChild(e),e.visible=!1,e.x=45,e.y=-66,this.addChild(i),i.visible=!1,i.x=87,i.y=-77,this.addChild(s),s.visible=!1,s.y=6,this.addChild(o),o.visible=!1,o.x=-19,o.y=8},e.prototype.gotoAndStop=function(t){for(var e=0;e<this.numChildren;e++)this.getChildAt(e).visible=!1;this.getChildAt(t).visible=!0},e.prototype.createBitmapByName=function(t){var e=new egret.Bitmap,i=RES.getRes(t);return e.texture=i,e},e}(egret.Sprite);__reflect(Qieadi.prototype,"Qieadi");var Source=function(){function t(){}return t.init=function(){var e=RES.getRes(Main.sourceName+"_json");this.list=e.items;for(var i=0;i<e.items.length;i++){var s=e.items[i].img,o=new egret.Bitmap(RES.getRes(s)),r=e.items[i].name;o.name=r,o.width=o.height=250,o.anchorOffsetX=o.width/2,o.anchorOffsetY=o.height/2;var n=new Box;n.addContent(o),n.name="box_"+i,this.images.push(n)}for(var a=0;a<t.groups;a++){for(var h=[],c=0;c<this.images.length;c++)h.push(c);this.questionList.push(this.getQuestion(a%this.images.length,h))}egret.log(this.questionList)},t.reArrange=function(){this.questionList=[];for(var e=0;e<t.groups;e++){for(var i=[],s=0;s<this.images.length;s++)i.push(s);this.questionList.push(this.getQuestion(e%this.images.length,i))}},t.getQuestion=function(t,e){var i=[];i.push(e[t]),e.splice(t,1);for(var s=0;2>s;s++){var o=Math.floor(Math.random()*(e.length-s));0>o&&(o=0),i.push(e[o]),e.splice(o,1)}for(var r=[],n=0;3>n;n++){var a=Math.floor(Math.random()*(3-n));0>a&&(a=0),r.push(i[a]),i.splice(a,1)}return r},t.changeQusetion=function(t){for(var e=[],i=0;i<this.images.length;i++)e.push(i);this.questionList[t]=[],this.questionList[t].push(e[t]),e.splice(t,1);for(var s=0;2>s;s++){var o=Math.floor(Math.random()*(e.length-s));0>o&&(o=0),this.questionList[t].push(e[o]),e.splice(o,1)}for(var r=[],n=0;3>n;n++){var a=Math.floor(Math.random()*(3-n));0>a&&(a=0),r.push(this.questionList[t][a]),this.questionList[t].splice(a,1)}this.questionList[t]=r},t.createBitmapByName=function(t){var e=new egret.Bitmap,i=RES.getRes(t);return e.texture=i,e.smoothing=!0,e},t.groups=13,t.showNum=3,t.root="resource/",t.images=[],t.audios=[],t.questionList=[],t}();__reflect(Source.prototype,"Source");